<!-- thread.component.html -->

<div class="container my-3">
  <h1>{{ forum.title }} - {{ thread.description }}</h1>

  <!-- Affichage des threads -->
  <div class="card my-3" *ngFor="let thread of threads">
    <div class="card-body">
      <h5 class="card-title">{{ thread.description }}</h5>
      <p class="card-text">Type: {{ thread.type }}</p>
      <button class="btn btn-primary" (click)="selectThread(thread)">Voir le thread</button>
    </div>
  </div>

  <!-- Formulaire pour ajouter un nouveau thread -->
  <div class="card my-3">
    <div class="card-body">
      <h5 class="card-title">Ajouter un nouveau thread</h5>
      <form (ngSubmit)="addThread()">
        <div class="form-group">
          <label>Description</label>
          <textarea class="form-control" [(ngModel)]="newThread.description" name="description" required></textarea>
        </div>
        <div class="form-group">
          <label for="type">Type de fil :</label>
          <select class="form-control" id="type" name="type" [(ngModel)]="newThread.type">
            <option value="">Choisir un type</option>
            <option value="REPLY">Réponse</option>
            <option value="COMMENT">Commentaire</option>
          </select>
        </div>

<!--        <div class="form-group">-->
<!--          <label for="type">Type</label>-->
<!--          <select class="form-control" id="type" name="type" [(ngModel)]="newThread.type">-->
<!--            <option *ngFor="let type of CommentTypeValues()" [value]="type">{{type}}</option>-->
<!--          </select>-->
<!--        </div>-->

        <!--        <div class="form-group">-->
<!--          <label for="type">Type</label>-->
<!--          <select class="form-control" id="type" name="type" [(ngModel)]="thread.type" required>-->
<!--            <option value="COMMENT">COMMENT</option>-->
<!--            <option value="REPLY">REPLY</option>-->

<!--          </select>-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--          <label>Type</label>-->
<!--          <select class="form-control" [(ngModel)]="newThread.type" name="type" required>-->
<!--            <option *ngFor="let type of CommentTypeValues()">{{ type }}</option>-->
<!--          </select>-->
<!--        </div>-->
        <button type="submit" class="btn btn-primary">Ajouter</button>
      </form>
    </div>
  </div>

  <!-- Affichage du thread sélectionné -->
  <div *ngIf="thread.id">
    <h2>{{ thread.description }}</h2>
    <p>Type: {{ thread.type }}</p>

    <!-- Affichage des réponses au thread -->
    <div *ngFor="let reply of thread.id">
      <p>{{ reply.description }}</p>
    </div>

    <!-- Formulaire pour répondre au thread -->
    <form (ngSubmit)="replyToThread()" class="my-3">
      <div class="form-group">
        <label>Réponse</label>
        <textarea class="form-control" [(ngModel)]="replyText" name="replyText" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Répondre</button>
    </form>
  </div>
</div>











<!--<div class="container">-->
<!--  <div class="row">-->
<!--    <div class="col-md-8">-->
<!--      <div class="card mb-4">-->
<!--        <div class="card-header">-->
<!--          <h4>{{ thread.description }}</h4>-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--          <p>{{ thread.type }}</p>-->
<!--        </div>-->
<!--      </div>-->
<!--      <div class="card mb-4">-->
<!--        <div class="card-header">-->
<!--          <h4>Replies</h4>-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--          <ul class="list-group">-->
<!--            <li class="list-group-item" *ngFor="let reply of thread.id">-->
<!--              <p>{{ reply.description }}</p>-->
<!--            </li>-->
<!--          </ul>-->
<!--        </div>-->
<!--      </div>-->
<!--      <div class="card mb-4">-->
<!--        <div class="card-header">-->
<!--          <h4>Reply to Thread</h4>-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--          <form (submit)="replyToThread()">-->
<!--            <div class="form-group">-->
<!--              <textarea class="form-control" [(ngModel)]="replyText"></textarea>-->
<!--            </div>-->
<!--            <button type="submit" class="btn btn-primary">Reply</button>-->
<!--          </form>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--    <div class="col-md-4">-->
<!--      <div class="card mb-4">-->
<!--        <div class="card-header">-->
<!--          <h4>Add Thread</h4>-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--          <form (submit)="addThread">-->
<!--            <div class="form-group">-->
<!--              <input type="text" class="form-control" placeholder="Thread Description" #description required>-->
<!--            </div>-->
<!--            <button type="submit" class="btn btn-primary">Add Thread</button>-->
<!--          </form>-->
<!--        </div>-->
<!--      </div>-->
<!--      <div class="card mb-4">-->
<!--        <div class="card-header">-->
<!--          <h4>Update Thread</h4>-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--          <form (submit)="updateThread(description.value)">-->
<!--            <div class="form-group">-->
<!--              <input type="text" class="form-control" [(ngModel)]="thread.description">-->
<!--            </div>-->
<!--            <button type="submit" class="btn btn-primary">Update Thread</button>-->
<!--          </form>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->
